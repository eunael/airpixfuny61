<!DOCTYPE html>
<html lang="pt_br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Air Pix Funny 61 TM</title>

    <link rel="icon" href="/imagens/pilot.webp" type="image/webp">

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        [x-cloak] {
            display: none !important;
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    keyframes: {
                        pendule: {
                            '0%, 100%': { transform: 'rotate(-5deg)' },
                            '50%': { transform: 'rotate(5deg)' },
                        },
                    },
                    animation: {
                        pendule: 'pendule 5s infinite',
                    },
                }
            }
        }
    </script>
</head>

<body class="bg-black">
    <div class="h-screen flex flex-col justify-center">
        <h1 class="text-4xl text-center font-bold mb-6 text-white">Air Pix Funny 61 &trade;</h1>

        <div class="bg-white pt-12 pb-6 w-full lg:w-1/3 sm:w-1/2 mx-auto">
            <div class="relative flex justify-between items-center mb-6 px-3"
                x-data="{clicked: false, dialogeShow: false}">
                <div class="grow flex sm:justify-center">
                    <img src="/imagens/pilot.webp" alt="pilot" class="cursor-pointer me-3"
                        :class="clicked ? 'animate-pendule' : 'animate-bounce'"
                        x-on:click="clicked = true; dialogeShow = true">
                </div>

                <div class="font-bold text-gray-300 grow" :class="dialogeShow && 'opacity-0'">
                    &lt;- (click me)
                </div>

                <div x-show="dialogeShow" x-cloak
                    class="bg-yellow-300 p-3 border border-yellow-500 w-48 absolute right-3 top-1 xl:w-56 xl:text-lg 2xl:right-24 lg:right-5 sm:right-6"
                    x-on:click.away="dialogeShow = false">
                    Junte-se a nós para o nosso próximo voo engraçado do avião
                    <strong><i>MeiaTimerInfinite-8</i></strong> e vamos fazer ele decolar tão alto como nunca visto
                    antes!
                    ehehe
                </div>
            </div>

            <hr class="w-24 mx-auto mb-6">

            <div class="w-full mb-6">
                <img src="/imagens/peppoaviao.webp" alt="" class="mx-auto scale-y-75 w-full cursor-pointer">
            </div>

            <div class="flex justify-around items-center mb-6 px-3">
                <div class="mx-auto w-48 text-center text-2xl font-bold">
                    <p>Próximo Voo:</p>
                    <p class="bg-red-500 text-white w-fit mx-auto px-2">20H GMT-3</p>
                </div>

                <div class="mx-auto w-48 text-center text-2xl font-bold">
                    <p>Regressiva:</p>
                    <p id="countdown">10:00:00</p>
                </div>
            </div>

            <hr class="w-24 mx-auto mb-6">

            <div class="flex justify-around items-center px-3">
                <div class="mx-auto w-48 text-center font-bold">
                    <a href="https://pixie.gg/meiaum" class="text-blue-500 underline link text-wrap">Garanta aqui o seu
                        lugar</a>
                </div>

                <div class="mx-auto w-48 font-bold" x-data="{copied:false,timeout:null}">
                    <div class="cursor-pointer bg-black text-white w-fit p-2 text-center mx-auto" x-on:click="function() {
                            clearTimeout(timeout); copied = true; timeout = setTimeout(() => { copied = false }, 2000);
                            navigator.clipboard.writeText('Ei, tá afim de fazer um voo engraçado? Venha voar na Air Pix Funny 61 TM e decole tão alto como nunca visto antes. Faltam ' + document.getElementById('countdown').textContent + ' para o próximo. Para mais informações: ' + window.location.href)
                        }">
                        <span>Chame mais gente</span>
                    </div>
                    <div class="w-full text-center mx-auto" x-cloak
                        x-show.transition.out.opacity.duration.1500ms="copied"
                        x-transition:leave.opacity.duration.1500ms>Copiado.</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function getBrasiliaTime() {
            const options = { timeZone: 'America/Sao_Paulo', hour12: false };
            const now = new Date().toLocaleString('en-US', options);
            return new Date(now);
        }

        function calculateTimeRemaining(targetTime) {
            const now = getBrasiliaTime();
            const timeDifference = targetTime - now;
            const totalSeconds = Math.floor(timeDifference / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;

            return {
                total: totalSeconds,
                hours,
                minutes,
                seconds
            };
        }

        function updateCountdown() {
            const targetHour = 20;
            const now = getBrasiliaTime();
            let targetTime;

            if (now.getHours() >= targetHour) {
                targetTime = getBrasiliaTime();
                targetTime.setDate(now.getDate() + 1);
                targetTime.setHours(targetHour, 0, 0, 0);
            } else {
                targetTime = getBrasiliaTime();
                targetTime.setHours(targetHour, 0, 0, 0);
            }

            const remainingTime = calculateTimeRemaining(targetTime);

            if (remainingTime.total <= 0) {
                startTenMinuteCountdown();
            } else {
                document.getElementById('countdown').innerHTML =
                    `${remainingTime.hours.toString().padStart(2, '0')}:${remainingTime.minutes.toString().padStart(2, '0')}:${remainingTime.seconds.toString().padStart(2, '0')}`;
                setTimeout(updateCountdown, 1000);
            }
        }

        function startTenMinuteCountdown() {
            const tenMinutes = 5 * 60; // 10 minutes in seconds
            let timeLeft = tenMinutes;

            const interval = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;

                document.getElementById('countdown').innerHTML =
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                timeLeft--;

                if (timeLeft < 0) {
                    clearInterval(interval);
                    updateCountdown(); // Reinicia a contagem para as 20h do próximo dia
                }
            }, 1000);
        }

        updateCountdown(); // Inicializa a contagem regressiva
    </script>
</body>

</html>